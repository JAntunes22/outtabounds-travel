{"version":3,"file":"static/js/261.0a5ccd71.chunk.js","mappings":"sLAOO,MAAMA,EAA6BC,UACxC,IACEC,QAAQC,IAAI,8DACZ,IAAIC,EAAe,EAGnB,MAAMC,GAAiBC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,eAChCC,QAAsBC,EAAAA,EAAAA,IAAQJ,GAG9BK,EAAmBF,EAAcG,KACvC,IAAIC,EAAmB,EAGvB,MAAMC,EAAoBL,EAAcM,KAAKC,KAAId,UAC/C,MAAMe,EAAiBC,EAASC,OAG5BF,EAAeG,WAAaH,EAAeI,MAC7CR,UAGMS,EAAAA,EAAAA,KAAUC,EAAAA,EAAAA,KAAIf,EAAAA,GAAI,cAAeU,EAASM,IAAK,CACnDH,IAAKJ,EAAeG,SACpBK,UAAW,IAAIC,OAGjBrB,IACAF,QAAQC,IAAI,wBAAwBc,EAASM,QAAQP,EAAeU,MAAQ,aAC9E,IASF,aALMC,QAAQC,IAAIf,GAElBX,QAAQC,IAAI,uBAAuBC,QAAmBM,0BACtDR,QAAQC,IAAOO,EAAmBE,EAAtB,+CAEL,CACLF,mBACAN,eACAyB,eAAgBnB,EAAmBE,EAEvC,CAAE,MAAOkB,GAEP,MADA5B,QAAQ4B,MAAM,0BAA2BA,GACnC,IAAIC,MAAM,qBAAqBD,EAAME,UAC7C,E","sources":["utils/migrationUtils.js"],"sourcesContent":["import { db } from './firebaseConfig';\nimport { collection, getDocs, doc, updateDoc } from 'firebase/firestore';\n\n/**\n * Utility function to migrate imageUrl to url field in the experiences collection\n * This helps ensure consistency in the field names across the application\n */\nexport const migrateExperienceImageUrls = async () => {\n  try {\n    console.log(\"Starting migration of experience imageUrl fields to url...\");\n    let updatedCount = 0;\n\n    // Get all experiences\n    const experiencesRef = collection(db, 'experiences');\n    const querySnapshot = await getDocs(experiencesRef);\n    \n    // Keep track of total experiences and those needing updates\n    const totalExperiences = querySnapshot.size;\n    let needsUpdateCount = 0;\n    \n    // Process each experience document\n    const migrationPromises = querySnapshot.docs.map(async (document) => {\n      const experienceData = document.data();\n      \n      // Check if the document has imageUrl but not url\n      if (experienceData.imageUrl && !experienceData.url) {\n        needsUpdateCount++;\n        \n        // Update the document with the new url field\n        await updateDoc(doc(db, 'experiences', document.id), {\n          url: experienceData.imageUrl,\n          updatedAt: new Date()\n        });\n        \n        updatedCount++;\n        console.log(`Migrated experience: ${document.id} - ${experienceData.name || 'unnamed'}`);\n      }\n    });\n    \n    // Wait for all updates to complete\n    await Promise.all(migrationPromises);\n    \n    console.log(`Migration complete. ${updatedCount} of ${totalExperiences} experiences updated.`);\n    console.log(`${totalExperiences - needsUpdateCount} experiences already had the correct field.`);\n    \n    return {\n      totalExperiences,\n      updatedCount,\n      alreadyCorrect: totalExperiences - needsUpdateCount\n    };\n  } catch (error) {\n    console.error(\"Error during migration:\", error);\n    throw new Error(`Migration failed: ${error.message}`);\n  }\n};\n\n/**\n * You can run this migration from the admin dashboard or developer console\n * Example usage:\n * import { migrateExperienceImageUrls } from './utils/migrationUtils';\n * migrateExperienceImageUrls().then(result => console.log('Migration result:', result));\n */ "],"names":["migrateExperienceImageUrls","async","console","log","updatedCount","experiencesRef","collection","db","querySnapshot","getDocs","totalExperiences","size","needsUpdateCount","migrationPromises","docs","map","experienceData","document","data","imageUrl","url","updateDoc","doc","id","updatedAt","Date","name","Promise","all","alreadyCorrect","error","Error","message"],"sourceRoot":""}